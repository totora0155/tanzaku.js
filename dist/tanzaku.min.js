/*!
 * Copyright 2016, nju33
 * Released under the MIT License
 * https://github.com/totora0155/tanzaku.js
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Tanzaku=e()}(this,function(){"use strict";function t(t,e){this.data=t,this.opts=e,this._show=n.bind(this),this._hide=i.bind(this),this._cache={},r||(s(),r=!0)}function e(t,e){var n=document.createElement("div");return n.className="tanzaku__box",e&&(n.className+=" tanzaku__"+e),n.innerHTML='<div class="tanzaku__inner">'+t+"</div>",n}function n(t){var n,i=t.currentTarget,o=i.getAttribute("data-tanzaku");this.data[o]?this._cache[o]?(n=this._cache[o],n.style.display="block",setTimeout(function(){n.style.opacity="1"},0)):(n=e(this.data[o],this.opts.name),this._cache[o]=n,a(i,n)):console.error(o+" is undefined")}function i(t){var e=t.currentTarget,n=e.getAttribute("data-tanzaku"),i=this._cache[n];i&&(i.style.opacity=0,setTimeout(function(){i.style.display="none"},200))}function a(t,e){t.innerHTML='<span class="tanzaku__origin">'+t.innerText+"</span>",t.appendChild(e),o(e)}function o(t){var e=t.children[0].clientWidth;t.children[0].style.width=e+"px",t.style.width="100%"}function s(){var t=document.createElement("style"),e=".tanzaku__box {position: absolute;right: 50%;top: 0;-webkit-transform: translateX(50%);-ms-transform: translateX(50%);transform: translateX(50%);-webkit-transition: opacity .1s linear;transition: opacity .1s linear;}.tanzaku__inner {box-sizing: border-box;padding: .3em .5em;margin-top: 1.3em;background: #414141;color: #fff;}.tanzaku__origin {position: relative;z-index: 1;}";t.innerText=e,document.head.insertBefore(t,document.head.children[0])}var r=null;return t.prototype.init=function(t){t=Array.prototype.slice.call(t);for(var e=0,n=t.length;n>e;e++)t[e].addEventListener("mouseover",this._show),t[e].addEventListener("mouseleave",this._hide)},t});